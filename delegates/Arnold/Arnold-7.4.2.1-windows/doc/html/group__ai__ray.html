<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<title>Arnold 7.4.2.1 API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">Ray Tracing API</div></div>
</div><!--header-->
<div class="contents">

<p>Creation and manipulation of <a class="el" href="structAtRay.html">AtRay</a> objects.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAtRay.html">AtRay</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ray data structure.  <a href="structAtRay.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga4e80d92fb150732f3a51c9b8016089f7"><td class="memItemLeft" align="right" valign="top"><a id="ga4e80d92fb150732f3a51c9b8016089f7" name="ga4e80d92fb150732f3a51c9b8016089f7"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::type</b></td></tr>
<tr class="memdesc:ga4e80d92fb150732f3a51c9b8016089f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of ray (<code>AI_RAY_CAMERA</code>, etc) <br  />
 <br /></td></tr>
<tr class="separator:ga4e80d92fb150732f3a51c9b8016089f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab3cd1635580f1124c3d49f69a99c4514"><td class="memItemLeft" align="right" valign="top"><a id="gab3cd1635580f1124c3d49f69a99c4514" name="gab3cd1635580f1124c3d49f69a99c4514"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::bounces</b></td></tr>
<tr class="memdesc:gab3cd1635580f1124c3d49f69a99c4514"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of bounces so far (0 for camera rays) <br  />
 <br /></td></tr>
<tr class="separator:gab3cd1635580f1124c3d49f69a99c4514"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga49055aeeb745047b50b03d181900e7c0"><td class="memItemLeft" align="right" valign="top"><a id="ga49055aeeb745047b50b03d181900e7c0" name="ga49055aeeb745047b50b03d181900e7c0"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::bounces_diffuse</b></td></tr>
<tr class="memdesc:ga49055aeeb745047b50b03d181900e7c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of diffuse bounces so far <br  />
 <br /></td></tr>
<tr class="separator:ga49055aeeb745047b50b03d181900e7c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b9be5c1248ba8054bbe91d043a4f8d6"><td class="memItemLeft" align="right" valign="top"><a id="ga9b9be5c1248ba8054bbe91d043a4f8d6" name="ga9b9be5c1248ba8054bbe91d043a4f8d6"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::bounces_specular</b></td></tr>
<tr class="memdesc:ga9b9be5c1248ba8054bbe91d043a4f8d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of specular bounces so far <br  />
 <br /></td></tr>
<tr class="separator:ga9b9be5c1248ba8054bbe91d043a4f8d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7e1405e7fff353d4b15beb3b2fcba9f"><td class="memItemLeft" align="right" valign="top"><a id="gae7e1405e7fff353d4b15beb3b2fcba9f" name="gae7e1405e7fff353d4b15beb3b2fcba9f"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::bounces_reflect</b></td></tr>
<tr class="memdesc:gae7e1405e7fff353d4b15beb3b2fcba9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of reflection bounces so far <br  />
 <br /></td></tr>
<tr class="separator:gae7e1405e7fff353d4b15beb3b2fcba9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadf96bc1cf24e6908e011aa66cfaee982"><td class="memItemLeft" align="right" valign="top"><a id="gadf96bc1cf24e6908e011aa66cfaee982" name="gadf96bc1cf24e6908e011aa66cfaee982"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::bounces_transmit</b></td></tr>
<tr class="memdesc:gadf96bc1cf24e6908e011aa66cfaee982"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of transmission bounces so far <br  />
 <br /></td></tr>
<tr class="separator:gadf96bc1cf24e6908e011aa66cfaee982"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac5acca47f1cf999b37e11e5e551e0e55"><td class="memItemLeft" align="right" valign="top"><a id="gac5acca47f1cf999b37e11e5e551e0e55" name="gac5acca47f1cf999b37e11e5e551e0e55"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::bounces_volume</b></td></tr>
<tr class="memdesc:gac5acca47f1cf999b37e11e5e551e0e55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of volume bounces so far <br  />
 <br /></td></tr>
<tr class="separator:gac5acca47f1cf999b37e11e5e551e0e55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff668234b9be226be6a5bb9bab5c4acc"><td class="memItemLeft" align="right" valign="top"><a id="gaff668234b9be226be6a5bb9bab5c4acc" name="gaff668234b9be226be6a5bb9bab5c4acc"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::inclusive_traceset</b></td></tr>
<tr class="memdesc:gaff668234b9be226be6a5bb9bab5c4acc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the trace-set inclusive or exclusive? <br  />
 <br /></td></tr>
<tr class="separator:gaff668234b9be226be6a5bb9bab5c4acc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7fbefba6cab7423b4331b345586ae920"><td class="memItemLeft" align="right" valign="top"><a id="ga7fbefba6cab7423b4331b345586ae920" name="ga7fbefba6cab7423b4331b345586ae920"></a>
<a class="el" href="classAtString.html">AtString</a>&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::traceset</b></td></tr>
<tr class="memdesc:ga7fbefba6cab7423b4331b345586ae920"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trace-set for this ray <br  />
 <br /></td></tr>
<tr class="separator:ga7fbefba6cab7423b4331b345586ae920"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b50ad6fa2ad939f43312dd92cbf8ea9"><td class="memItemLeft" align="right" valign="top"><a id="ga1b50ad6fa2ad939f43312dd92cbf8ea9" name="ga1b50ad6fa2ad939f43312dd92cbf8ea9"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::tid</b></td></tr>
<tr class="memdesc:ga1b50ad6fa2ad939f43312dd92cbf8ea9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread ID <br  />
 <br /></td></tr>
<tr class="separator:ga1b50ad6fa2ad939f43312dd92cbf8ea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga609d9f2e9a97515fc978ee870798afb7"><td class="memItemLeft" align="right" valign="top"><a id="ga609d9f2e9a97515fc978ee870798afb7" name="ga609d9f2e9a97515fc978ee870798afb7"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::sindex</b></td></tr>
<tr class="memdesc:ga609d9f2e9a97515fc978ee870798afb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sub-pixel sample index when supersampling <br  />
 <br /></td></tr>
<tr class="separator:ga609d9f2e9a97515fc978ee870798afb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga74b240bb1b76b7deea884af01d334051"><td class="memItemLeft" align="right" valign="top"><a id="ga74b240bb1b76b7deea884af01d334051" name="ga74b240bb1b76b7deea884af01d334051"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::x</b></td></tr>
<tr class="memdesc:ga74b240bb1b76b7deea884af01d334051"><td class="mdescLeft">&#160;</td><td class="mdescRight">Raster-space X coordinate <br  />
 <br /></td></tr>
<tr class="separator:ga74b240bb1b76b7deea884af01d334051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab741af9a108a2648e0ee7aa9fe02046a"><td class="memItemLeft" align="right" valign="top"><a id="gab741af9a108a2648e0ee7aa9fe02046a" name="gab741af9a108a2648e0ee7aa9fe02046a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::y</b></td></tr>
<tr class="memdesc:gab741af9a108a2648e0ee7aa9fe02046a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Raster-space Y coordinate <br  />
 <br /></td></tr>
<tr class="separator:gab741af9a108a2648e0ee7aa9fe02046a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf75f36769699af5f06b2d0cc96e046b3"><td class="memItemLeft" align="right" valign="top"><a id="gaf75f36769699af5f06b2d0cc96e046b3" name="gaf75f36769699af5f06b2d0cc96e046b3"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::px</b></td></tr>
<tr class="memdesc:gaf75f36769699af5f06b2d0cc96e046b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subpixel X coordinate in [0,1) <br  />
 <br /></td></tr>
<tr class="separator:gaf75f36769699af5f06b2d0cc96e046b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga96e4019acd62375d3dc2b8cf5675ee0c"><td class="memItemLeft" align="right" valign="top"><a id="ga96e4019acd62375d3dc2b8cf5675ee0c" name="ga96e4019acd62375d3dc2b8cf5675ee0c"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::py</b></td></tr>
<tr class="memdesc:ga96e4019acd62375d3dc2b8cf5675ee0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subpixel Y coordinate in [0,1) <br  />
 <br /></td></tr>
<tr class="separator:ga96e4019acd62375d3dc2b8cf5675ee0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5bbedb20d73a30fc37038c1d93ec478d"><td class="memItemLeft" align="right" valign="top"><a id="ga5bbedb20d73a30fc37038c1d93ec478d" name="ga5bbedb20d73a30fc37038c1d93ec478d"></a>
<a class="el" href="structAtVector.html">AtVector</a>&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::origin</b></td></tr>
<tr class="memdesc:ga5bbedb20d73a30fc37038c1d93ec478d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ray origin <br  />
 <br /></td></tr>
<tr class="separator:ga5bbedb20d73a30fc37038c1d93ec478d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacc7d3ae97d350cea022c0205920c473b"><td class="memItemLeft" align="right" valign="top"><a id="gacc7d3ae97d350cea022c0205920c473b" name="gacc7d3ae97d350cea022c0205920c473b"></a>
<a class="el" href="structAtVector.html">AtVector</a>&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::dir</b></td></tr>
<tr class="memdesc:gacc7d3ae97d350cea022c0205920c473b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unit ray direction <br  />
 <br /></td></tr>
<tr class="separator:gacc7d3ae97d350cea022c0205920c473b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6150685aa504ce5dbfb4ab3d1102faac"><td class="memItemLeft" align="right" valign="top"><a id="ga6150685aa504ce5dbfb4ab3d1102faac" name="ga6150685aa504ce5dbfb4ab3d1102faac"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::mindist</b></td></tr>
<tr class="memdesc:ga6150685aa504ce5dbfb4ab3d1102faac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum useful distance from the origin <br  />
 <br /></td></tr>
<tr class="separator:ga6150685aa504ce5dbfb4ab3d1102faac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ba7113d4bf1af2ac2a5999fb8f53b49"><td class="memItemLeft" align="right" valign="top"><a id="ga9ba7113d4bf1af2ac2a5999fb8f53b49" name="ga9ba7113d4bf1af2ac2a5999fb8f53b49"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::maxdist</b></td></tr>
<tr class="memdesc:ga9ba7113d4bf1af2ac2a5999fb8f53b49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum useful distance from the origin (volatile while ray is traced) <br /></td></tr>
<tr class="separator:ga9ba7113d4bf1af2ac2a5999fb8f53b49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f0b22d36df63ded1e8e3d38ba1a979b"><td class="memItemLeft" align="right" valign="top"><a id="ga9f0b22d36df63ded1e8e3d38ba1a979b" name="ga9f0b22d36df63ded1e8e3d38ba1a979b"></a>
const <a class="el" href="structAtShaderGlobals.html">AtShaderGlobals</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::psg</b></td></tr>
<tr class="memdesc:ga9f0b22d36df63ded1e8e3d38ba1a979b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parent shader globals (last shaded) <br  />
 <br /></td></tr>
<tr class="separator:ga9f0b22d36df63ded1e8e3d38ba1a979b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03a69c4da9e260e8d978610038014fb5"><td class="memItemLeft" align="right" valign="top"><a id="ga03a69c4da9e260e8d978610038014fb5" name="ga03a69c4da9e260e8d978610038014fb5"></a>
const <a class="el" href="structAtLightSample.html">AtLightSample</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::light_sample</b></td></tr>
<tr class="memdesc:ga03a69c4da9e260e8d978610038014fb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Associated light sample, for shadow rays only <br  />
 <br /></td></tr>
<tr class="separator:ga03a69c4da9e260e8d978610038014fb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga408a48cd4a1135113442a8718ecc20b9"><td class="memItemLeft" align="right" valign="top"><a id="ga408a48cd4a1135113442a8718ecc20b9" name="ga408a48cd4a1135113442a8718ecc20b9"></a>
<a class="el" href="structAtRGB.html">AtRGB</a>&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::weight</b></td></tr>
<tr class="memdesc:ga408a48cd4a1135113442a8718ecc20b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ray weight, AI_RGB_WHITE for clean camera rays <br  />
 <br /></td></tr>
<tr class="separator:ga408a48cd4a1135113442a8718ecc20b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5b47ab10fcc3aa2635abed57a9f9b62a"><td class="memItemLeft" align="right" valign="top"><a id="ga5b47ab10fcc3aa2635abed57a9f9b62a" name="ga5b47ab10fcc3aa2635abed57a9f9b62a"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::time</b></td></tr>
<tr class="memdesc:ga5b47ab10fcc3aa2635abed57a9f9b62a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time at which the ray was created, in [0,1) <br  />
 <br /></td></tr>
<tr class="separator:ga5b47ab10fcc3aa2635abed57a9f9b62a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf449c25b363f6a2ad7e11e1bea46135f"><td class="memItemLeft" align="right" valign="top"><a id="gaf449c25b363f6a2ad7e11e1bea46135f" name="gaf449c25b363f6a2ad7e11e1bea46135f"></a>
<a class="el" href="structAtVector.html">AtVector</a>&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::dOdx</b></td></tr>
<tr class="memdesc:gaf449c25b363f6a2ad7e11e1bea46135f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Partial derivative of ray origin wrt image-space X coordinate <br  />
 <br /></td></tr>
<tr class="separator:gaf449c25b363f6a2ad7e11e1bea46135f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9af4c80582a6b7ebae12c8b9cd401eeb"><td class="memItemLeft" align="right" valign="top"><a id="ga9af4c80582a6b7ebae12c8b9cd401eeb" name="ga9af4c80582a6b7ebae12c8b9cd401eeb"></a>
<a class="el" href="structAtVector.html">AtVector</a>&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::dOdy</b></td></tr>
<tr class="memdesc:ga9af4c80582a6b7ebae12c8b9cd401eeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Partial derivative of ray origin wrt image-space Y coordinate <br  />
 <br /></td></tr>
<tr class="separator:ga9af4c80582a6b7ebae12c8b9cd401eeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga77e81b3539336c8eb17179a8c6d83c33"><td class="memItemLeft" align="right" valign="top"><a id="ga77e81b3539336c8eb17179a8c6d83c33" name="ga77e81b3539336c8eb17179a8c6d83c33"></a>
<a class="el" href="structAtVector.html">AtVector</a>&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::dDdx</b></td></tr>
<tr class="memdesc:ga77e81b3539336c8eb17179a8c6d83c33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Partial derivative of ray direction wrt image-space X coordinate. <br /></td></tr>
<tr class="separator:ga77e81b3539336c8eb17179a8c6d83c33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0e96fffbc7d37b7d299e2c403d2cab9a"><td class="memItemLeft" align="right" valign="top"><a id="ga0e96fffbc7d37b7d299e2c403d2cab9a" name="ga0e96fffbc7d37b7d299e2c403d2cab9a"></a>
<a class="el" href="structAtVector.html">AtVector</a>&#160;</td><td class="memItemRight" valign="bottom"><b>AtRay::dDdy</b></td></tr>
<tr class="memdesc:ga0e96fffbc7d37b7d299e2c403d2cab9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Partial derivative of ray direction wrt image-space Y coordinate. <br /></td></tr>
<tr class="separator:ga0e96fffbc7d37b7d299e2c403d2cab9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Ray Type Masks</h2></td></tr>
<tr class="memitem:ga5809e799601c5bde373d1892dbd0f342"><td class="memItemLeft" align="right" valign="top">AI_API AI_DEVICE <a class="el" href="structAtRay.html">AtRay</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ai__ray.html#ga5809e799601c5bde373d1892dbd0f342">AiMakeRay</a> (uint8_t type, const <a class="el" href="structAtVector.html">AtVector</a> &amp;origin, const <a class="el" href="structAtVector.html">AtVector</a> *dir, float maxdist, const <a class="el" href="structAtShaderGlobals.html">AtShaderGlobals</a> *sg)</td></tr>
<tr class="memdesc:ga5809e799601c5bde373d1892dbd0f342"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a ray for tracing.  <a href="group__ai__ray.html#ga5809e799601c5bde373d1892dbd0f342">More...</a><br /></td></tr>
<tr class="separator:ga5809e799601c5bde373d1892dbd0f342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7807a4f69168e72f97aa30e8fb6c9d90"><td class="memItemLeft" align="right" valign="top">AI_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ai__ray.html#ga7807a4f69168e72f97aa30e8fb6c9d90">AiReflectRay</a> (<a class="el" href="structAtRay.html">AtRay</a> &amp;ray, const <a class="el" href="structAtVector.html">AtVector</a> &amp;normal, const <a class="el" href="structAtShaderGlobals.html">AtShaderGlobals</a> *sg)</td></tr>
<tr class="memdesc:ga7807a4f69168e72f97aa30e8fb6c9d90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes and sets the reflected ray direction and proper ray direction differentials (ray-&gt;dDdx and ray-&gt;dDdy).  <a href="group__ai__ray.html#ga7807a4f69168e72f97aa30e8fb6c9d90">More...</a><br /></td></tr>
<tr class="separator:ga7807a4f69168e72f97aa30e8fb6c9d90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga23c72ac4a3d1f00223757f978ccca150"><td class="memItemLeft" align="right" valign="top">AI_API AI_DEVICE bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ai__ray.html#ga23c72ac4a3d1f00223757f978ccca150">AiRefractRay</a> (<a class="el" href="structAtRay.html">AtRay</a> &amp;ray, const <a class="el" href="structAtVector.html">AtVector</a> &amp;normal, float n1, float n2, const <a class="el" href="structAtShaderGlobals.html">AtShaderGlobals</a> *sg)</td></tr>
<tr class="memdesc:ga23c72ac4a3d1f00223757f978ccca150"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helps make a refracted ray with high quality ray derivatives when called after <a class="el" href="group__ai__ray.html#ga5809e799601c5bde373d1892dbd0f342" title="Creates a ray for tracing.">AiMakeRay()</a>.  <a href="group__ai__ray.html#ga23c72ac4a3d1f00223757f978ccca150">More...</a><br /></td></tr>
<tr class="separator:ga23c72ac4a3d1f00223757f978ccca150"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf4c58cca1b8b82b4b5cc85459ed097b8"><td class="memItemLeft" align="right" valign="top">AI_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ai__ray.html#gaf4c58cca1b8b82b4b5cc85459ed097b8">AiTrace</a> (const <a class="el" href="structAtRay.html">AtRay</a> &amp;ray, const <a class="el" href="structAtRGB.html">AtRGB</a> &amp;weight, <a class="el" href="structAtScrSample.html">AtScrSample</a> &amp;sample)</td></tr>
<tr class="memdesc:gaf4c58cca1b8b82b4b5cc85459ed097b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Traces a ray through the whole scene, and for non-shadow rays, the radiance and first-hit information will be returned.  <a href="group__ai__ray.html#gaf4c58cca1b8b82b4b5cc85459ed097b8">More...</a><br /></td></tr>
<tr class="separator:gaf4c58cca1b8b82b4b5cc85459ed097b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9db505b539d0b969623ac1d1517ea68b"><td class="memItemLeft" align="right" valign="top">AI_API AI_DEVICE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ai__ray.html#ga9db505b539d0b969623ac1d1517ea68b">AiTraceBackground</a> (const <a class="el" href="structAtRay.html">AtRay</a> &amp;ray, <a class="el" href="structAtScrSample.html">AtScrSample</a> &amp;sample)</td></tr>
<tr class="memdesc:ga9db505b539d0b969623ac1d1517ea68b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Traces a ray against the background without touching the geometry.  <a href="group__ai__ray.html#ga9db505b539d0b969623ac1d1517ea68b">More...</a><br /></td></tr>
<tr class="separator:ga9db505b539d0b969623ac1d1517ea68b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab93af61e64c6216d8c7ddd8a09d32b9a"><td class="memItemLeft" align="right" valign="top">AI_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ai__ray.html#gab93af61e64c6216d8c7ddd8a09d32b9a">AiTraceProbe</a> (const <a class="el" href="structAtRay.html">AtRay</a> &amp;ray, <a class="el" href="structAtShaderGlobals.html">AtShaderGlobals</a> *sgout)</td></tr>
<tr class="memdesc:gab93af61e64c6216d8c7ddd8a09d32b9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Traces a ray through the whole scene and returns the first intersection, if there is one.  <a href="group__ai__ray.html#gab93af61e64c6216d8c7ddd8a09d32b9a">More...</a><br /></td></tr>
<tr class="separator:gab93af61e64c6216d8c7ddd8a09d32b9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga50679545678f62c1708ba8f988002e33"><td class="memItemLeft" align="right" valign="top"><a id="ga50679545678f62c1708ba8f988002e33" name="ga50679545678f62c1708ba8f988002e33"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AI_RAY_ALL_DIFFUSE</b>&#160;&#160;&#160;(<a class="el" href="group__ai__ray.html#ga48bfdd8e0bf5b8ae6c92b193b6472338">AI_RAY_DIFFUSE_TRANSMIT</a> | <a class="el" href="group__ai__ray.html#ga9a337097fb008ec1abae9db3a0713d7a">AI_RAY_DIFFUSE_REFLECT</a>)</td></tr>
<tr class="memdesc:ga50679545678f62c1708ba8f988002e33"><td class="mdescLeft">&#160;</td><td class="mdescRight">all indirect diffuse ray types <br  />
 <br /></td></tr>
<tr class="separator:ga50679545678f62c1708ba8f988002e33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga54aac846b4be6162bcacfca69f6e67e1"><td class="memItemLeft" align="right" valign="top"><a id="ga54aac846b4be6162bcacfca69f6e67e1" name="ga54aac846b4be6162bcacfca69f6e67e1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AI_RAY_ALL_SPECULAR</b>&#160;&#160;&#160;(<a class="el" href="group__ai__ray.html#ga687dbeb3525d7941af86e5044bca944f">AI_RAY_SPECULAR_TRANSMIT</a>| <a class="el" href="group__ai__ray.html#ga0180705bcf6b03df0ff676e50592cfef">AI_RAY_SPECULAR_REFLECT</a>)</td></tr>
<tr class="memdesc:ga54aac846b4be6162bcacfca69f6e67e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">all indirect specular ray types <br  />
 <br /></td></tr>
<tr class="separator:ga54aac846b4be6162bcacfca69f6e67e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf01e3aba9689b714b83ce2a9efb028b7"><td class="memItemLeft" align="right" valign="top"><a id="gaf01e3aba9689b714b83ce2a9efb028b7" name="gaf01e3aba9689b714b83ce2a9efb028b7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AI_RAY_ALL_REFLECT</b>&#160;&#160;&#160;(<a class="el" href="group__ai__ray.html#ga9a337097fb008ec1abae9db3a0713d7a">AI_RAY_DIFFUSE_REFLECT</a>  | <a class="el" href="group__ai__ray.html#ga0180705bcf6b03df0ff676e50592cfef">AI_RAY_SPECULAR_REFLECT</a>)</td></tr>
<tr class="memdesc:gaf01e3aba9689b714b83ce2a9efb028b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">all reflection ray types <br  />
 <br /></td></tr>
<tr class="separator:gaf01e3aba9689b714b83ce2a9efb028b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e61de67a33e944fcd6647d76dc2f107"><td class="memItemLeft" align="right" valign="top"><a id="ga6e61de67a33e944fcd6647d76dc2f107" name="ga6e61de67a33e944fcd6647d76dc2f107"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AI_RAY_ALL_TRANSMIT</b>&#160;&#160;&#160;(<a class="el" href="group__ai__ray.html#ga48bfdd8e0bf5b8ae6c92b193b6472338">AI_RAY_DIFFUSE_TRANSMIT</a> | <a class="el" href="group__ai__ray.html#ga687dbeb3525d7941af86e5044bca944f">AI_RAY_SPECULAR_TRANSMIT</a>)</td></tr>
<tr class="memdesc:ga6e61de67a33e944fcd6647d76dc2f107"><td class="mdescLeft">&#160;</td><td class="mdescRight">all transmission specular ray types <br /></td></tr>
<tr class="separator:ga6e61de67a33e944fcd6647d76dc2f107"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabb30bfd3ebc92760c54010b07ee178f8"><td class="memItemLeft" align="right" valign="top"><a id="gabb30bfd3ebc92760c54010b07ee178f8" name="gabb30bfd3ebc92760c54010b07ee178f8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AI_RAY_ALL</b>&#160;&#160;&#160;uint8_t(-1)</td></tr>
<tr class="memdesc:gabb30bfd3ebc92760c54010b07ee178f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">mask for all ray types <br  />
 <br /></td></tr>
<tr class="separator:gabb30bfd3ebc92760c54010b07ee178f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Ray Types</h2></td></tr>
<tr class="memitem:gaa3c3736d9e2f5abb1226d37d47c217b3"><td class="memItemLeft" align="right" valign="top"><a id="gaa3c3736d9e2f5abb1226d37d47c217b3" name="gaa3c3736d9e2f5abb1226d37d47c217b3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AI_RAY_UNDEFINED</b>&#160;&#160;&#160;0x00</td></tr>
<tr class="memdesc:gaa3c3736d9e2f5abb1226d37d47c217b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">undefined type <br  />
 <br /></td></tr>
<tr class="separator:gaa3c3736d9e2f5abb1226d37d47c217b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad711a20b2b29190b7e0f631aac68a1b1"><td class="memItemLeft" align="right" valign="top"><a id="gad711a20b2b29190b7e0f631aac68a1b1" name="gad711a20b2b29190b7e0f631aac68a1b1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AI_RAY_CAMERA</b>&#160;&#160;&#160;0x01</td></tr>
<tr class="memdesc:gad711a20b2b29190b7e0f631aac68a1b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">ray originating at the camera <br  />
 <br /></td></tr>
<tr class="separator:gad711a20b2b29190b7e0f631aac68a1b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e7f458ea66760fae254376c2709f8e3"><td class="memItemLeft" align="right" valign="top"><a id="ga6e7f458ea66760fae254376c2709f8e3" name="ga6e7f458ea66760fae254376c2709f8e3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AI_RAY_SHADOW</b>&#160;&#160;&#160;0x02</td></tr>
<tr class="memdesc:ga6e7f458ea66760fae254376c2709f8e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">shadow ray towards a light source <br  />
 <br /></td></tr>
<tr class="separator:ga6e7f458ea66760fae254376c2709f8e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga48bfdd8e0bf5b8ae6c92b193b6472338"><td class="memItemLeft" align="right" valign="top"><a id="ga48bfdd8e0bf5b8ae6c92b193b6472338" name="ga48bfdd8e0bf5b8ae6c92b193b6472338"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AI_RAY_DIFFUSE_TRANSMIT</b>&#160;&#160;&#160;0x04</td></tr>
<tr class="memdesc:ga48bfdd8e0bf5b8ae6c92b193b6472338"><td class="mdescLeft">&#160;</td><td class="mdescRight">indirect diffuse transmission ray <br  />
 <br /></td></tr>
<tr class="separator:ga48bfdd8e0bf5b8ae6c92b193b6472338"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga687dbeb3525d7941af86e5044bca944f"><td class="memItemLeft" align="right" valign="top"><a id="ga687dbeb3525d7941af86e5044bca944f" name="ga687dbeb3525d7941af86e5044bca944f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AI_RAY_SPECULAR_TRANSMIT</b>&#160;&#160;&#160;0x08</td></tr>
<tr class="memdesc:ga687dbeb3525d7941af86e5044bca944f"><td class="mdescLeft">&#160;</td><td class="mdescRight">indirect specular transmission ray <br  />
 <br /></td></tr>
<tr class="separator:ga687dbeb3525d7941af86e5044bca944f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3f9b7a9cb04fc6927154d71087c08ffa"><td class="memItemLeft" align="right" valign="top"><a id="ga3f9b7a9cb04fc6927154d71087c08ffa" name="ga3f9b7a9cb04fc6927154d71087c08ffa"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AI_RAY_VOLUME</b>&#160;&#160;&#160;0x10</td></tr>
<tr class="memdesc:ga3f9b7a9cb04fc6927154d71087c08ffa"><td class="mdescLeft">&#160;</td><td class="mdescRight">indirect volume scattering ray <br  />
 <br /></td></tr>
<tr class="separator:ga3f9b7a9cb04fc6927154d71087c08ffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a337097fb008ec1abae9db3a0713d7a"><td class="memItemLeft" align="right" valign="top"><a id="ga9a337097fb008ec1abae9db3a0713d7a" name="ga9a337097fb008ec1abae9db3a0713d7a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AI_RAY_DIFFUSE_REFLECT</b>&#160;&#160;&#160;0x20</td></tr>
<tr class="memdesc:ga9a337097fb008ec1abae9db3a0713d7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">indirect diffuse reflection ray <br  />
 <br /></td></tr>
<tr class="separator:ga9a337097fb008ec1abae9db3a0713d7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0180705bcf6b03df0ff676e50592cfef"><td class="memItemLeft" align="right" valign="top"><a id="ga0180705bcf6b03df0ff676e50592cfef" name="ga0180705bcf6b03df0ff676e50592cfef"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AI_RAY_SPECULAR_REFLECT</b>&#160;&#160;&#160;0x40</td></tr>
<tr class="memdesc:ga0180705bcf6b03df0ff676e50592cfef"><td class="mdescLeft">&#160;</td><td class="mdescRight">indirect specular reflection ray <br  />
 <br /></td></tr>
<tr class="separator:ga0180705bcf6b03df0ff676e50592cfef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe958b9203acb9bf0210eef9e1a11346"><td class="memItemLeft" align="right" valign="top"><a id="gafe958b9203acb9bf0210eef9e1a11346" name="gafe958b9203acb9bf0210eef9e1a11346"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AI_RAY_SUBSURFACE</b>&#160;&#160;&#160;0x80</td></tr>
<tr class="memdesc:gafe958b9203acb9bf0210eef9e1a11346"><td class="mdescLeft">&#160;</td><td class="mdescRight">subsurface scattering probe ray <br  />
 <br /></td></tr>
<tr class="separator:gafe958b9203acb9bf0210eef9e1a11346"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >Creation and manipulation of <a class="el" href="structAtRay.html">AtRay</a> objects. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga5809e799601c5bde373d1892dbd0f342" name="ga5809e799601c5bde373d1892dbd0f342"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5809e799601c5bde373d1892dbd0f342">&#9670;&nbsp;</a></span>AiMakeRay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AI_API AI_DEVICE <a class="el" href="structAtRay.html">AtRay</a> AiMakeRay </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structAtVector.html">AtVector</a> &amp;&#160;</td>
          <td class="paramname"><em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structAtVector.html">AtVector</a> *&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>maxdist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structAtShaderGlobals.html">AtShaderGlobals</a> *&#160;</td>
          <td class="paramname"><em>sg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a ray for tracing. </p>
<p >Returns an <a class="el" href="structAtRay.html" title="Ray data structure.">AtRay</a> with user-provided origin and direction, plus information stored in a shader globals context.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>the type of ray that we want to create, one of <code>AI_RAY_*</code> </td></tr>
    <tr><td class="paramname">origin</td><td>the origin of the ray </td></tr>
    <tr><td class="paramname">dir</td><td>the direction of the ray (or NULL if not yet available) </td></tr>
    <tr><td class="paramname">maxdist</td><td>the maximum distance that the ray will travel </td></tr>
    <tr><td class="paramname">sg</td><td>the shader globals context where the ray is created </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>filled in <a class="el" href="structAtRay.html" title="Ray data structure.">AtRay</a> </dd></dl>

</div>
</div>
<a id="ga7807a4f69168e72f97aa30e8fb6c9d90" name="ga7807a4f69168e72f97aa30e8fb6c9d90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7807a4f69168e72f97aa30e8fb6c9d90">&#9670;&nbsp;</a></span>AiReflectRay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AI_API void AiReflectRay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAtRay.html">AtRay</a> &amp;&#160;</td>
          <td class="paramname"><em>ray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structAtVector.html">AtVector</a> &amp;&#160;</td>
          <td class="paramname"><em>normal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structAtShaderGlobals.html">AtShaderGlobals</a> *&#160;</td>
          <td class="paramname"><em>sg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes and sets the reflected ray direction and proper ray direction differentials (ray-&gt;dDdx and ray-&gt;dDdy). </p>
<p >Note that <a class="el" href="group__ai__ray.html#ga5809e799601c5bde373d1892dbd0f342" title="Creates a ray for tracing.">AiMakeRay()</a> already computes proper ray direction differentials, so usually it is not necessary to also call AiReflectRay and instead it is more efficient to just use <a class="el" href="group__ai__shader__util.html#ga5d3fd3f45289ec21865239fdc3a2a713" title="Returns specular direction from incident direction I and normal N.">AiReflect()</a> followed by <a class="el" href="group__ai__ray.html#ga5809e799601c5bde373d1892dbd0f342" title="Creates a ray for tracing.">AiMakeRay()</a>. However, if the ray direction and derivatives need to be updated, such as might happen when computing glossy reflections where only the shading normal is jittered for each ray, then it is more efficient to use the lighter weight <a class="el" href="group__ai__ray.html#ga7807a4f69168e72f97aa30e8fb6c9d90" title="Computes and sets the reflected ray direction and proper ray direction differentials (ray-&gt;dDdx and r...">AiReflectRay()</a> instead of <a class="el" href="group__ai__shader__util.html#ga5d3fd3f45289ec21865239fdc3a2a713" title="Returns specular direction from incident direction I and normal N.">AiReflect()</a>+<a class="el" href="group__ai__ray.html#ga5809e799601c5bde373d1892dbd0f342" title="Creates a ray for tracing.">AiMakeRay()</a>.</p>
<p >An example usage is the following: </p><div class="fragment"><div class="line"><a class="code hl_struct" href="structAtRay.html">AtRay</a> ray = <a class="code hl_function" href="group__ai__ray.html#ga5809e799601c5bde373d1892dbd0f342">AiMakeRay</a>(<a class="code hl_define" href="group__ai__ray.html#ga0180705bcf6b03df0ff676e50592cfef">AI_RAY_SPECULAR_REFLECT</a>, sg-&gt;P, NULL, <a class="code hl_define" href="group__ai__constants.html#ga95c7821608a4e5760d498d0785f81f90">AI_BIG</a>, sg);</div>
<div class="line"><span class="keywordflow">while</span> (condition) {</div>
<div class="line">   <a class="code hl_function" href="group__ai__ray.html#ga7807a4f69168e72f97aa30e8fb6c9d90">AiReflectRay</a>(ray, getNewJitteredNormal(), sg);</div>
<div class="line">   <a class="code hl_function" href="group__ai__ray.html#gaf4c58cca1b8b82b4b5cc85459ed097b8">AiTrace</a>(ray, sample);</div>
<div class="line">}</div>
<div class="ttc" id="agroup__ai__constants_html_ga95c7821608a4e5760d498d0785f81f90"><div class="ttname"><a href="group__ai__constants.html#ga95c7821608a4e5760d498d0785f81f90">AI_BIG</a></div><div class="ttdeci">#define AI_BIG</div><div class="ttdoc">Big number</div><div class="ttdef"><b>Definition:</b> ai_constants.h:43</div></div>
<div class="ttc" id="agroup__ai__ray_html_ga0180705bcf6b03df0ff676e50592cfef"><div class="ttname"><a href="group__ai__ray.html#ga0180705bcf6b03df0ff676e50592cfef">AI_RAY_SPECULAR_REFLECT</a></div><div class="ttdeci">#define AI_RAY_SPECULAR_REFLECT</div><div class="ttdoc">indirect specular reflection ray</div><div class="ttdef"><b>Definition:</b> ai_ray.h:44</div></div>
<div class="ttc" id="agroup__ai__ray_html_ga5809e799601c5bde373d1892dbd0f342"><div class="ttname"><a href="group__ai__ray.html#ga5809e799601c5bde373d1892dbd0f342">AiMakeRay</a></div><div class="ttdeci">AI_API AI_DEVICE AtRay AiMakeRay(uint8_t type, const AtVector &amp;origin, const AtVector *dir, float maxdist, const AtShaderGlobals *sg)</div><div class="ttdoc">Creates a ray for tracing.</div><div class="ttdef"><b>Definition:</b> ai_rtrace.cpp:55</div></div>
<div class="ttc" id="agroup__ai__ray_html_ga7807a4f69168e72f97aa30e8fb6c9d90"><div class="ttname"><a href="group__ai__ray.html#ga7807a4f69168e72f97aa30e8fb6c9d90">AiReflectRay</a></div><div class="ttdeci">AI_API void AiReflectRay(AtRay &amp;ray, const AtVector &amp;normal, const AtShaderGlobals *sg)</div><div class="ttdoc">Computes and sets the reflected ray direction and proper ray direction differentials (ray-&gt;dDdx and r...</div><div class="ttdef"><b>Definition:</b> ai_rtrace.cpp:180</div></div>
<div class="ttc" id="agroup__ai__ray_html_gaf4c58cca1b8b82b4b5cc85459ed097b8"><div class="ttname"><a href="group__ai__ray.html#gaf4c58cca1b8b82b4b5cc85459ed097b8">AiTrace</a></div><div class="ttdeci">AI_API bool AiTrace(const AtRay &amp;ray, const AtRGB &amp;weight, AtScrSample &amp;sample)</div><div class="ttdoc">Traces a ray through the whole scene, and for non-shadow rays, the radiance and first-hit information...</div><div class="ttdef"><b>Definition:</b> ai_rtrace.cpp:880</div></div>
<div class="ttc" id="astructAtRay_html"><div class="ttname"><a href="structAtRay.html">AtRay</a></div><div class="ttdoc">Ray data structure.</div><div class="ttdef"><b>Definition:</b> ai_ray.h:59</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ray</td><td>the <a class="el" href="structAtRay.html" title="Ray data structure.">AtRay</a> which will contain the reflection direction </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">normal</td><td>the shading normal </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">sg</td><td>the shader globals context for this shader evaluation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga23c72ac4a3d1f00223757f978ccca150" name="ga23c72ac4a3d1f00223757f978ccca150"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga23c72ac4a3d1f00223757f978ccca150">&#9670;&nbsp;</a></span>AiRefractRay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AI_API AI_DEVICE bool AiRefractRay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAtRay.html">AtRay</a> &amp;&#160;</td>
          <td class="paramname"><em>ray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structAtVector.html">AtVector</a> &amp;&#160;</td>
          <td class="paramname"><em>normal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>n1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>n2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structAtShaderGlobals.html">AtShaderGlobals</a> *&#160;</td>
          <td class="paramname"><em>sg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helps make a refracted ray with high quality ray derivatives when called after <a class="el" href="group__ai__ray.html#ga5809e799601c5bde373d1892dbd0f342" title="Creates a ray for tracing.">AiMakeRay()</a>. </p>
<p >Note, if called before <a class="el" href="group__ai__ray.html#ga5809e799601c5bde373d1892dbd0f342" title="Creates a ray for tracing.">AiMakeRay()</a> instead of after, then the correctly computed ray derivatives will be overwritten by the low quality ray derivatives created by <a class="el" href="group__ai__ray.html#ga5809e799601c5bde373d1892dbd0f342" title="Creates a ray for tracing.">AiMakeRay()</a>! <a class="el" href="group__ai__ray.html#ga5809e799601c5bde373d1892dbd0f342" title="Creates a ray for tracing.">AiMakeRay()</a> cannot produce high quality ray derivatives because it does not have access to the indices of refraction.</p>
<p >This will update the <a class="el" href="structAtRay.html" title="Ray data structure.">AtRay</a> to contain the refracted (or total internal reflection) ray direction and also set the proper ray direction differentials (ray-&gt;dDdx and ray-&gt;dDdy) for refraction (or total internal reflection).</p>
<div class="fragment"><div class="line"><a class="code hl_struct" href="structAtRay.html">AtRay</a> ray = <a class="code hl_function" href="group__ai__ray.html#ga5809e799601c5bde373d1892dbd0f342">AiMakeRay</a>(<a class="code hl_define" href="group__ai__ray.html#ga687dbeb3525d7941af86e5044bca944f">AI_RAY_SPECULAR_TRANSMIT</a>, sg-&gt;P, NULL, <a class="code hl_define" href="group__ai__constants.html#ga95c7821608a4e5760d498d0785f81f90">AI_BIG</a>, sg);</div>
<div class="line"><a class="code hl_function" href="group__ai__ray.html#ga23c72ac4a3d1f00223757f978ccca150">AiRefractRay</a>(ray, sg-&gt;Nf, n1, n2, sg);</div>
<div class="ttc" id="agroup__ai__ray_html_ga23c72ac4a3d1f00223757f978ccca150"><div class="ttname"><a href="group__ai__ray.html#ga23c72ac4a3d1f00223757f978ccca150">AiRefractRay</a></div><div class="ttdeci">AI_API AI_DEVICE bool AiRefractRay(AtRay &amp;ray, const AtVector &amp;normal, float n1, float n2, const AtShaderGlobals *sg)</div><div class="ttdoc">Helps make a refracted ray with high quality ray derivatives when called after AiMakeRay().</div><div class="ttdef"><b>Definition:</b> ai_rtrace.cpp:229</div></div>
<div class="ttc" id="agroup__ai__ray_html_ga687dbeb3525d7941af86e5044bca944f"><div class="ttname"><a href="group__ai__ray.html#ga687dbeb3525d7941af86e5044bca944f">AI_RAY_SPECULAR_TRANSMIT</a></div><div class="ttdeci">#define AI_RAY_SPECULAR_TRANSMIT</div><div class="ttdoc">indirect specular transmission ray</div><div class="ttdef"><b>Definition:</b> ai_ray.h:41</div></div>
</div><!-- fragment --><p >If many reflected rays will be cast from the same shading point, but say with a different normal each time, it is more efficient to reuse the ray:</p>
<div class="fragment"><div class="line"><a class="code hl_struct" href="structAtRay.html">AtRay</a> ray = <a class="code hl_function" href="group__ai__ray.html#ga5809e799601c5bde373d1892dbd0f342">AiMakeRay</a>(<a class="code hl_define" href="group__ai__ray.html#ga687dbeb3525d7941af86e5044bca944f">AI_RAY_SPECULAR_TRANSMIT</a>, sg-&gt;P, NULL, <a class="code hl_define" href="group__ai__constants.html#ga95c7821608a4e5760d498d0785f81f90">AI_BIG</a>, sg);</div>
<div class="line"><span class="keywordflow">while</span> (condition) {</div>
<div class="line">   <a class="code hl_function" href="group__ai__ray.html#ga23c72ac4a3d1f00223757f978ccca150">AiRefractRay</a>(ray, getNewJitteredNormal(), n1, n2, sg);</div>
<div class="line">   <a class="code hl_function" href="group__ai__ray.html#gaf4c58cca1b8b82b4b5cc85459ed097b8">AiTrace</a>(ray, sample);</div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ray</td><td>the <a class="el" href="structAtRay.html" title="Ray data structure.">AtRay</a> which will contain the refraction/TIR ray direction </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">normal</td><td>the shading normal </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">n1</td><td>index of refraction (IOR) of the medium the incident ray travels in </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">n2</td><td>index of refraction (IOR) of the medium the transmitted ray travels in </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">sg</td><td>the shader globals context for this shader evaluation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a boolean which is true if refraction occurred or false if TIR occurred </dd></dl>

</div>
</div>
<a id="gaf4c58cca1b8b82b4b5cc85459ed097b8" name="gaf4c58cca1b8b82b4b5cc85459ed097b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf4c58cca1b8b82b4b5cc85459ed097b8">&#9670;&nbsp;</a></span>AiTrace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AI_API bool AiTrace </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structAtRay.html">AtRay</a> &amp;&#160;</td>
          <td class="paramname"><em>ray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structAtRGB.html">AtRGB</a> &amp;&#160;</td>
          <td class="paramname"><em>weight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAtScrSample.html">AtScrSample</a> &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Traces a ray through the whole scene, and for non-shadow rays, the radiance and first-hit information will be returned. </p>
<p >Shadow rays only return opacity.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">ray</td><td>the ray to be traced </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">weight</td><td>RGB weight applied to the result color, and used for Russian roulette termination for more efficient rendering with high GI depth </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">result</td><td>an <a class="el" href="structAtScrSample.html" title="Used to hold the result of AiTrace() calls.">AtScrSample</a> structure where the radiance and first-hit information of non-shadow rays are returned. Shadow rays will only have opacity filled in.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the ray hit some non-volumetric geometry </dd></dl>

</div>
</div>
<a id="ga9db505b539d0b969623ac1d1517ea68b" name="ga9db505b539d0b969623ac1d1517ea68b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9db505b539d0b969623ac1d1517ea68b">&#9670;&nbsp;</a></span>AiTraceBackground()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AI_API AI_DEVICE void AiTraceBackground </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structAtRay.html">AtRay</a> &amp;&#160;</td>
          <td class="paramname"><em>ray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAtScrSample.html">AtScrSample</a> &amp;&#160;</td>
          <td class="paramname"><em>sample</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Traces a ray against the background without touching the geometry. </p>
<p >Allows shader writers to easily trace a ray against the background, without intersecting geometry first. This can be useful when implementing limited ray-length effects or environment mapped reflections. Note that this function includes the contribution from the atmosphere shader.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">ray</td><td>the ray to be traced </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">sample</td><td>an <a class="el" href="structAtScrSample.html" title="Used to hold the result of AiTrace() calls.">AtScrSample</a> structure where the radiance and opacity are returned </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab93af61e64c6216d8c7ddd8a09d32b9a" name="gab93af61e64c6216d8c7ddd8a09d32b9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab93af61e64c6216d8c7ddd8a09d32b9a">&#9670;&nbsp;</a></span>AiTraceProbe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AI_API bool AiTraceProbe </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structAtRay.html">AtRay</a> &amp;&#160;</td>
          <td class="paramname"><em>ray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAtShaderGlobals.html">AtShaderGlobals</a> *&#160;</td>
          <td class="paramname"><em>sgout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Traces a ray through the whole scene and returns the first intersection, if there is one. </p>
<p >The ray will stop at the first geometric intersection. This function does not take transparency into account.</p>
<p >Note: If the ray type is specifically set to <code>AI_RAY_SHADOW</code>, this function will return the first intersection found as the ray traverses the scene hierarchy. This is faster if you just want to know if the ray hits <em>any</em> object, but it might not be the closest intersection along the ray path.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">ray</td><td>the ray to be traced </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">sgout</td><td>if non-NULL, the first intersection point will be stored here </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the ray hit some non-volumetric geometry </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<br>
<!--We could define a thematic change here by using the tag <hr class="footer"/> -->
<div id="geninfo" style="text-align: center;">
 <font size=-2 color=#C9C9C9>&copy 2023 Autodesk, Inc. &middot All rights reserved &middot <a href="http://www.arnoldrenderer.com/"><font size=-2 color=#C9C9C9>www.arnoldrenderer.com</font></a></font>
 <div id="geninfo" style="text-align: right; margin-top: 10 px; margin-right: 10px;">
 </div>
</div>
</body>
</html>

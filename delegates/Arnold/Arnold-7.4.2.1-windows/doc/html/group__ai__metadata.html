<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<title>Arnold 7.4.2.1 API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a>  </div>
  <div class="headertitle"><div class="title">Metadata API</div></div>
</div><!--header-->
<div class="contents">

<p>Reading and writing of metadata.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAtMetadataStore.html">AtMetadataStore</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure holds a generic list of metadata items, each of which could optionally be associated to a specific parameter (for node metadata).  <a href="structAtMetadataStore.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Node metadata writing</h2></td></tr>
<tr><td class="ititle" colspan="2"><p ><a class="anchor" id="amgrp59790225d1d56d65c04e6534ec08aa3c"></a>These functions allow attaching auxiliary information about specific parameters or the node itself. This information is stored within the <a class="el" href="structAtNodeEntry.html">AtNodeEntry</a>. These methods may only be called within the <a class="el" href="group__ai__nodes.html#gadec5d9ecd55d964c1a30151fffa8e575">node_parameters</a> function where the parameters are declared.</p>
<p >Here is an example: </p><div class="fragment"><div class="line"><a class="code hl_define" href="group__ai__nodes.html#gadec5d9ecd55d964c1a30151fffa8e575">node_parameters</a></div>
<div class="line">{</div>
<div class="line">   AiParameterFlt(<span class="stringliteral">&quot;Kd&quot;</span>, 0.7f);</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// create a lower-case synonym for parameter Kd</span></div>
<div class="line">   AiMetaDataSetStr(nentry, <span class="stringliteral">&quot;Kd&quot;</span>, <span class="stringliteral">&quot;_synonym&quot;</span>, <span class="stringliteral">&quot;kd&quot;</span>);</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// describe the parameter</span></div>
<div class="line">   AiMetaDataSetStr(nentry, <span class="stringliteral">&quot;Kd&quot;</span>, <span class="stringliteral">&quot;description&quot;</span>,</div>
<div class="line">      <span class="stringliteral">&quot;Diffuse coefficient&quot;</span>);</div>
<div class="line">   <span class="comment">// describe the node itself</span></div>
<div class="line">   AiMetaDataSetStr(nentry, NULL, <span class="stringliteral">&quot;description&quot;</span>,</div>
<div class="line">      <span class="stringliteral">&quot;This is a simple lambert shader for illustration purposes&quot;</span>);</div>
<div class="line">}</div>
<div class="ttc" id="agroup__ai__nodes_html_gadec5d9ecd55d964c1a30151fffa8e575"><div class="ttname"><a href="group__ai__nodes.html#gadec5d9ecd55d964c1a30151fffa8e575">node_parameters</a></div><div class="ttdeci">#define node_parameters</div><div class="ttdoc">Parameter declaration method.</div><div class="ttdef"><b>Definition:</b> ai_nodes.h:72</div></div>
</div><!-- fragment --><p >Note that you should never pass allocated strings, as they will not be freed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nentry</td><td>this is the <a class="el" href="structAtNodeEntry.html">AtNodeEntry</a> (note that <em>nentry</em> is an argument to <a class="el" href="group__ai__nodes.html#gadec5d9ecd55d964c1a30151fffa8e575">node_parameters</a>) </td></tr>
    <tr><td class="paramname">param</td><td>the name of the node parameter to which the metadata will be attached (or a null/empty string if you want to attach information to the node itself) </td></tr>
    <tr><td class="paramname">name</td><td>the name of the metadata you want to attach </td></tr>
    <tr><td class="paramname">value</td><td>the value of the metadata </td></tr>
  </table>
  </dd>
</dl>
</td></tr>
<tr class="memitem:gae3cf26969a4c6eab7519fd6c50057881"><td class="memItemLeft" align="right" valign="top"><a id="gae3cf26969a4c6eab7519fd6c50057881" name="gae3cf26969a4c6eab7519fd6c50057881"></a>
const <a class="el" href="classAtString.html">AtString</a>&#160;</td><td class="memItemRight" valign="bottom"><b>param</b></td></tr>
<tr class="separator:gae3cf26969a4c6eab7519fd6c50057881"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga79eb95ba065d1317366faa09f5d18b51"><td class="memItemLeft" align="right" valign="top"><a id="ga79eb95ba065d1317366faa09f5d18b51" name="ga79eb95ba065d1317366faa09f5d18b51"></a>
const <a class="el" href="classAtString.html">AtString</a> const <a class="el" href="classAtString.html">AtString</a>&#160;</td><td class="memItemRight" valign="bottom"><b>name</b></td></tr>
<tr class="separator:ga79eb95ba065d1317366faa09f5d18b51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga907692c6f7f666c21bd8952f4b7276d9"><td class="memItemLeft" align="right" valign="top"><a id="ga907692c6f7f666c21bd8952f4b7276d9" name="ga907692c6f7f666c21bd8952f4b7276d9"></a>
const <a class="el" href="classAtString.html">AtString</a> const <a class="el" href="classAtString.html">AtString</a> bool&#160;</td><td class="memItemRight" valign="bottom"><b>value</b> { return AiMetaDataGetBool (nentry, <a class="el" href="classAtString.html">AtString</a>(param), <a class="el" href="classAtString.html">AtString</a>(name), value)</td></tr>
<tr class="separator:ga907692c6f7f666c21bd8952f4b7276d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabc67b672cd24d85ee4f9c7bc9a20dbfb"><td class="memItemLeft" align="right" valign="top"><a id="gabc67b672cd24d85ee4f9c7bc9a20dbfb" name="gabc67b672cd24d85ee4f9c7bc9a20dbfb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>__attribute__</b> ((visibility(&quot;default&quot;))) void AiMetaDataSetBool(<a class="el" href="structAtNodeEntry.html">AtNodeEntry</a> *nentry</td></tr>
<tr class="separator:gabc67b672cd24d85ee4f9c7bc9a20dbfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga80044b47e4eb45626e7a0a32fe4efc44"><td class="memItemLeft" align="right" valign="top"><a id="ga80044b47e4eb45626e7a0a32fe4efc44" name="ga80044b47e4eb45626e7a0a32fe4efc44"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>AiMetaDataSetBool</b> (<a class="el" href="structAtNodeEntry.html">AtNodeEntry</a> *nentry, const char *param, const char *name, bool value)</td></tr>
<tr class="separator:ga80044b47e4eb45626e7a0a32fe4efc44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga42d4ebdafd8adcfb051be80a7884cf71"><td class="memItemLeft" align="right" valign="top"><a id="ga42d4ebdafd8adcfb051be80a7884cf71" name="ga42d4ebdafd8adcfb051be80a7884cf71"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>AiMetaDataSetInt</b> (<a class="el" href="structAtNodeEntry.html">AtNodeEntry</a> *nentry, const char *param, const char *name, int value)</td></tr>
<tr class="separator:ga42d4ebdafd8adcfb051be80a7884cf71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a8af3453076144cf9902a971b6674bf"><td class="memItemLeft" align="right" valign="top"><a id="ga8a8af3453076144cf9902a971b6674bf" name="ga8a8af3453076144cf9902a971b6674bf"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>AiMetaDataSetFlt</b> (<a class="el" href="structAtNodeEntry.html">AtNodeEntry</a> *nentry, const char *param, const char *name, float value)</td></tr>
<tr class="separator:ga8a8af3453076144cf9902a971b6674bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga701ef2ea6b6fe51297fc55e05edc118e"><td class="memItemLeft" align="right" valign="top"><a id="ga701ef2ea6b6fe51297fc55e05edc118e" name="ga701ef2ea6b6fe51297fc55e05edc118e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>AiMetaDataSetRGB</b> (<a class="el" href="structAtNodeEntry.html">AtNodeEntry</a> *nentry, const char *param, const char *name, <a class="el" href="structAtRGB.html">AtRGB</a> value)</td></tr>
<tr class="separator:ga701ef2ea6b6fe51297fc55e05edc118e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7902c166db998f36ff01431e21c799e8"><td class="memItemLeft" align="right" valign="top"><a id="ga7902c166db998f36ff01431e21c799e8" name="ga7902c166db998f36ff01431e21c799e8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>AiMetaDataSetRGBA</b> (<a class="el" href="structAtNodeEntry.html">AtNodeEntry</a> *nentry, const char *param, const char *name, <a class="el" href="structAtRGBA.html">AtRGBA</a> value)</td></tr>
<tr class="separator:ga7902c166db998f36ff01431e21c799e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4c3d97cb144becc56fecc574f29bb24e"><td class="memItemLeft" align="right" valign="top"><a id="ga4c3d97cb144becc56fecc574f29bb24e" name="ga4c3d97cb144becc56fecc574f29bb24e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>AiMetaDataSetVec</b> (<a class="el" href="structAtNodeEntry.html">AtNodeEntry</a> *nentry, const char *param, const char *name, <a class="el" href="structAtVector.html">AtVector</a> value)</td></tr>
<tr class="separator:ga4c3d97cb144becc56fecc574f29bb24e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab81c34a86f0d443dcec9b281f9a53d9e"><td class="memItemLeft" align="right" valign="top"><a id="gab81c34a86f0d443dcec9b281f9a53d9e" name="gab81c34a86f0d443dcec9b281f9a53d9e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>AiMetaDataSetVec2</b> (<a class="el" href="structAtNodeEntry.html">AtNodeEntry</a> *nentry, const char *param, const char *name, <a class="el" href="structAtVector2.html">AtVector2</a> value)</td></tr>
<tr class="separator:gab81c34a86f0d443dcec9b281f9a53d9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga593bf645febc300b755027b1f58b2f78"><td class="memItemLeft" align="right" valign="top"><a id="ga593bf645febc300b755027b1f58b2f78" name="ga593bf645febc300b755027b1f58b2f78"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>AiMetaDataSetStr</b> (<a class="el" href="structAtNodeEntry.html">AtNodeEntry</a> *nentry, const char *param, const char *name, <a class="el" href="classAtString.html">AtString</a> value)</td></tr>
<tr class="separator:ga593bf645febc300b755027b1f58b2f78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6cb71be04d16270cb7171fff31853890"><td class="memItemLeft" align="right" valign="top"><a id="ga6cb71be04d16270cb7171fff31853890" name="ga6cb71be04d16270cb7171fff31853890"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>AiMetaDataSetStr</b> (<a class="el" href="structAtNodeEntry.html">AtNodeEntry</a> *nentry, const char *param, const char *name, const char *value)</td></tr>
<tr class="separator:ga6cb71be04d16270cb7171fff31853890"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Node Metadata Retrieval</h2></td></tr>
<tr><td class="ititle" colspan="2"><p ><a class="anchor" id="amgrp3f7da34e316f9e425e684cbe53227bd8"></a>These functions allow client code to examine metadata attached to specific parameters or to a node.</p>
<p >Following on the example above: </p><div class="fragment"><div class="line"><span class="keyword">const</span> <a class="code hl_struct" href="structAtNodeEntry.html">AtNodeEntry</a>* entry = <a class="code hl_function" href="group__ai__node__entry.html#gac7f9366415f0bcf9e695e0bdd0c37468">AiNodeEntryLookUp</a>(<span class="stringliteral">&quot;my_simple_lambert&quot;</span>);</div>
<div class="line"><span class="keywordtype">char</span>* desc;</div>
<div class="line"><span class="keywordtype">bool</span> success = AiMetaDataGetStr(entry, <span class="stringliteral">&quot;Kd&quot;</span>, <span class="stringliteral">&quot;description&quot;</span>, &amp;desc)</div>
<div class="line"><span class="keywordflow">if</span> (success)</div>
<div class="line">   printf(<span class="stringliteral">&quot;\nDescription for parameter Kd: %s&quot;</span>, desc);</div>
<div class="ttc" id="agroup__ai__node__entry_html_gac7f9366415f0bcf9e695e0bdd0c37468"><div class="ttname"><a href="group__ai__node__entry.html#gac7f9366415f0bcf9e695e0bdd0c37468">AiNodeEntryLookUp</a></div><div class="ttdeci">AI_API AI_PURE const AtNodeEntry * AiNodeEntryLookUp(const AtString name)</div><div class="ttdoc">Look up a node entry from a name string.</div><div class="ttdef"><b>Definition:</b> ai_nodeentry.cpp:43</div></div>
<div class="ttc" id="astructAtNodeEntry_html"><div class="ttname"><a href="structAtNodeEntry.html">AtNodeEntry</a></div><div class="ttdoc">This represents a node type in Arnold.</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">entry</td><td>the <a class="el" href="structAtNodeEntry.html">AtNodeEntry</a> of the node you want to get metadata from </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">param</td><td>the name of the node parameter you want to get metadata from (or null/empty string if you are looking for metadata on the node itself) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">name</td><td>the name of the metadata you want to get </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>if the read succeeds, the variable pointed to by <em>value</em> will be overwritten with the metadata </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true when the lookup is succesful </dd></dl>
</td></tr>
<tr class="memitem:ga8bfe1e505be7fe489fa2215533a42dcf"><td class="memItemLeft" align="right" valign="top"><a id="ga8bfe1e505be7fe489fa2215533a42dcf" name="ga8bfe1e505be7fe489fa2215533a42dcf"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>__attribute__</b> ((deprecated)) bool AiMetaDataGetBool(const <a class="el" href="structAtNodeEntry.html">AtNodeEntry</a> *nentry</td></tr>
<tr class="separator:ga8bfe1e505be7fe489fa2215533a42dcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">AtMetadataStore Writing</h2></td></tr>
<tr><td class="ititle" colspan="2"><p ><a class="anchor" id="amgrp03a2c817908abccb7547b40614de6020"></a>These functions allow attaching auxiliary information to a specific metadata store.</p>
<p >Here is an example: </p><div class="fragment"><div class="line">AiMetadataStoreSetStr(mds, <a class="code hl_class" href="classAtString.html">AtString</a>(<span class="stringliteral">&quot;author&quot;</span>), <span class="stringliteral">&quot;William Shakespeare&quot;</span>);</div>
<div class="line">AiMetadataStoreSetStr(mds, <a class="code hl_class" href="classAtString.html">AtString</a>(<span class="stringliteral">&quot;bbox&quot;</span>), <span class="stringliteral">&quot;-1 -1 -1 1 1 1&quot;</span>);</div>
<div class="line">AiMetadataStoreSetFlt(mds, <a class="code hl_class" href="classAtString.html">AtString</a>(<span class="stringliteral">&quot;temperature&quot;</span>), 21.0f);</div>
<div class="ttc" id="aclassAtString_html"><div class="ttname"><a href="classAtString.html">AtString</a></div><div class="ttdoc">Arnold String allows for fast string comparisons.</div><div class="ttdef"><b>Definition:</b> ai_string.h:54</div></div>
</div><!-- fragment --><p >Note that you should never pass allocated strings, as they will not be freed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mds</td><td>the metadata store to operate with </td></tr>
    <tr><td class="paramname">name</td><td>the name of the metadata you want to attach </td></tr>
    <tr><td class="paramname">value</td><td>the value of the metadata </td></tr>
  </table>
  </dd>
</dl>
</td></tr>
<tr class="memitem:gac21d9f82a819f8f231cda1e1fcec281c"><td class="memItemLeft" align="right" valign="top"><a id="gac21d9f82a819f8f231cda1e1fcec281c" name="gac21d9f82a819f8f231cda1e1fcec281c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>AiMetadataStoreSetStr</b> (<a class="el" href="structAtMetadataStore.html">AtMetadataStore</a> *mds, const <a class="el" href="classAtString.html">AtString</a> name, const char *value)</td></tr>
<tr class="separator:gac21d9f82a819f8f231cda1e1fcec281c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9f8516412887e6819cd4c6e067baaa3"><td class="memItemLeft" align="right" valign="top"><a id="gae9f8516412887e6819cd4c6e067baaa3" name="gae9f8516412887e6819cd4c6e067baaa3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>AiMetadataStoreParamSetStr</b> (<a class="el" href="structAtMetadataStore.html">AtMetadataStore</a> *mds, const <a class="el" href="classAtString.html">AtString</a> param, const <a class="el" href="classAtString.html">AtString</a> name, const char *value)</td></tr>
<tr class="separator:gae9f8516412887e6819cd4c6e067baaa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">AtMetadataStore Retrieval</h2></td></tr>
<tr><td class="ititle" colspan="2"><p ><a class="anchor" id="amgrp07e4ecd1e11cf9a800663c3ef52fa72e"></a>These functions allow client code to get metadata entries within a specific metadata store.</p>
<p >Following on the example above: </p><div class="fragment"><div class="line"><span class="keywordtype">char</span>* author;</div>
<div class="line"><span class="keywordtype">bool</span> success = AiMetadataStoreGetStr(mds, <span class="stringliteral">&quot;author&quot;</span>, &amp;author)</div>
<div class="line"><span class="keywordflow">if</span> (success)</div>
<div class="line">   printf(<span class="stringliteral">&quot;\nAuthor: %s&quot;</span>, author);</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">mds</td><td>the metadata store to read from </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">name</td><td>the name of the metadata you want to get </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>if the read succeeds, the variable pointed to by <em>value</em> will be overwritten with the metadata </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true when the lookup is succesful </dd></dl>
</td></tr>
<tr class="memitem:gaf169a8e30ab8e2be7c4710081561ffa5"><td class="memItemLeft" align="right" valign="top">AI_API <a class="el" href="structAtMetadataStore.html">AtMetadataStore</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ai__metadata.html#gaf169a8e30ab8e2be7c4710081561ffa5">AiMetadataStore</a> ()</td></tr>
<tr class="memdesc:gaf169a8e30ab8e2be7c4710081561ffa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new metadata store.  <a href="group__ai__metadata.html#gaf169a8e30ab8e2be7c4710081561ffa5">More...</a><br /></td></tr>
<tr class="separator:gaf169a8e30ab8e2be7c4710081561ffa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf036207821f0e831c922ec97761ca7ec"><td class="memItemLeft" align="right" valign="top">AI_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ai__metadata.html#gaf036207821f0e831c922ec97761ca7ec">AiMetadataStoreDestroy</a> (<a class="el" href="structAtMetadataStore.html">AtMetadataStore</a> *mds)</td></tr>
<tr class="memdesc:gaf036207821f0e831c922ec97761ca7ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys a metadata store object.  <a href="group__ai__metadata.html#gaf036207821f0e831c922ec97761ca7ec">More...</a><br /></td></tr>
<tr class="separator:gaf036207821f0e831c922ec97761ca7ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga67b3e45768e297d750a4115d1e0ca13a"><td class="memItemLeft" align="right" valign="top">AI_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ai__metadata.html#ga67b3e45768e297d750a4115d1e0ca13a">AiMetadataStoreLoadFromASS</a> (<a class="el" href="structAtMetadataStore.html">AtMetadataStore</a> *mds, const char *file)</td></tr>
<tr class="memdesc:ga67b3e45768e297d750a4115d1e0ca13a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load embedded metadata from an .ass file into a metadata store.  <a href="group__ai__metadata.html#ga67b3e45768e297d750a4115d1e0ca13a">More...</a><br /></td></tr>
<tr class="separator:ga67b3e45768e297d750a4115d1e0ca13a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga40a0d2260eade5ab2382f548602fa97f"><td class="memItemLeft" align="right" valign="top">AI_API AtMetaDataIterator *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ai__metadata.html#ga40a0d2260eade5ab2382f548602fa97f">AiMetadataStoreGetIterator</a> (const <a class="el" href="structAtMetadataStore.html">AtMetadataStore</a> *mds)</td></tr>
<tr class="memdesc:ga40a0d2260eade5ab2382f548602fa97f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new metadata iterator that traverses all global metadata.  <a href="group__ai__metadata.html#ga40a0d2260eade5ab2382f548602fa97f">More...</a><br /></td></tr>
<tr class="separator:ga40a0d2260eade5ab2382f548602fa97f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf651876c1a3c45721bf678d6d59319fb"><td class="memItemLeft" align="right" valign="top">AI_API AtMetaDataIterator *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ai__metadata.html#gaf651876c1a3c45721bf678d6d59319fb">AiMetadataStoreGetIteratorRecursive</a> (const <a class="el" href="structAtMetadataStore.html">AtMetadataStore</a> *mds, const char *param, bool recursive)</td></tr>
<tr class="memdesc:gaf651876c1a3c45721bf678d6d59319fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new metadata iterator pointing at the first matching entry.  <a href="group__ai__metadata.html#gaf651876c1a3c45721bf678d6d59319fb">More...</a><br /></td></tr>
<tr class="separator:gaf651876c1a3c45721bf678d6d59319fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga032bb286a2cf4732e976c5ebd055aaa1"><td class="memItemLeft" align="right" valign="top">AI_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ai__metadata.html#ga032bb286a2cf4732e976c5ebd055aaa1">AiMetaDataLoadFile</a> (const char *filename)</td></tr>
<tr class="memdesc:ga032bb286a2cf4732e976c5ebd055aaa1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load a metadata file.  <a href="group__ai__metadata.html#ga032bb286a2cf4732e976c5ebd055aaa1">More...</a><br /></td></tr>
<tr class="separator:ga032bb286a2cf4732e976c5ebd055aaa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >Reading and writing of metadata. </p>
<p >Arnold provides a container for generic metadata called <a class="el" href="structAtMetadataStore.html">AtMetadataStore</a>. An <a class="el" href="structAtMetadataStore.html">AtMetadataStore</a> object can contain any number of metadata items, each consisting on a name, type and value.</p>
<p >Every Arnold <a class="el" href="structAtNodeEntry.html">AtNodeEntry</a> object contains its own <a class="el" href="structAtMetadataStore.html">AtMetadataStore</a>, with metadata specific to that node entry and its parameters. All this metadata is shared among all nodes of that type. This metadata can be helpful to maintain extra annotations about parameters for GUI tools for example.</p>
<p >Finally, metadata can also be loaded from a metadata file, or embedded in .ass files.</p>
<p >The following metadata items are recognized by Arnold, and could be used to modify the way nodes and parameters are processed.</p>
<table class="doxtable">
<tr>
<th>Name</th><th>Type</th><th>Applies to</th><th>Description </th></tr>
<tr>
<td>animatable</td><td><em>BOOLEAN</em></td><td>Array parameters</td><td>Indicate if keyframe data in array parameter is used in animation (ie motion blur) </td></tr>
<tr>
<td>aov_shader</td><td><em>BOOLEAN</em></td><td>Node entry</td><td>Indicate if a shader may usefully be assigned as a global AOV shader in the "aov_shaders" render option </td></tr>
<tr>
<td>aov.type</td><td><em>INTEGER</em></td><td>STRING parameters</td><td>For string parameters describing custom AOV outputs of a shader, describes the AOV's type (AI_TYPE_INT, AI_TYPE_FLOAT, AI_TYPE_RGB, etc) </td></tr>
<tr>
<td>category</td><td><em>STRING</em></td><td>Node entry</td><td>Category under which to display a shader node in UIs (built-in categories are: "AOV","Atmosphere","Color","Convert","Light Filter","Math","Matrix","Noise","Shading","State","Texture","User Data","Utility","Vector","Volume") </td></tr>
<tr>
<td>default</td><td><em>&lt;Parameter type&gt;</em></td><td>Parameters</td><td>Default value to present in user interfaces </td></tr>
<tr>
<td>deprecated</td><td><em>BOOLEAN</em></td><td>Node entry</td><td>If a node entry has this metadata set to true, creating a node of that type will emit a warning about it being deprecated </td></tr>
<tr>
<td>extensions</td><td><em>STRING</em></td><td>Parameters</td><td>Used to tag a file path parameter with supported extensions </td></tr>
<tr>
<td>gpu_support</td><td><em>BOOLEAN</em></td><td>Node entry / Parameters</td><td>Used to flag node types or parameters that are not yet supported by GPU rendering </td></tr>
<tr>
<td>is_perspective</td><td><em>BOOLEAN</em></td><td>Node entry</td><td>Should be set in a custom camera if it is a perspective camera </td></tr>
<tr>
<td>linkable</td><td><em>BOOLEAN</em></td><td>Parameters</td><td>Can be use to flag if parameters can be linked (true if metadata is not set) </td></tr>
<tr>
<td>opacity_term</td><td><em>INTEGER</em></td><td>Node entry / Parameters</td><td>Set to a shader node entry if it is always opaque, or set to a parameter that is opaque when equal to 1 (1, 1, 1) </td></tr>
<tr>
<td>transparency_term</td><td><em>INTEGER</em></td><td>Node entry / Parameters</td><td>Set to a shader node entry if it is always transparent, or set to a parameter that is opaque when equal to 0 (0, 0, 0) </td></tr>
<tr>
<td>parallel_driver_needs_bucket</td><td><em>BOOLEAN</em></td><td>Node entry</td><td>Set on a driver to enable the driver_needs_bucket API to be executed in parallel </td></tr>
<tr>
<td>parallel_driver_prepare_bucket</td><td><em>BOOLEAN</em></td><td>Node entry</td><td>Set on a driver to enable the driver_prepare_bucket API to be executed in parallel </td></tr>
<tr>
<td>parallel_driver_write_bucket</td><td><em>BOOLEAN</em></td><td>Node entry</td><td>Set on a driver to enable the driver_write_bucket API to be executed in parallel </td></tr>
<tr>
<td>parallel_init</td><td><em>BOOLEAN</em></td><td>Node Entry</td><td>Set in custom procedurals to allow parallel initialization </td></tr>
<tr>
<td>path</td><td><em>STRING</em></td><td>String Parameters</td><td>Set to a string parameter to select specific semantics for the value (valid values: <em>file</em>, <em>folder</em>, <em>folderlist</em>) </td></tr>
<tr>
<td>max</td><td><em>&lt;Parameter type&gt;</em></td><td>Numeric parameters</td><td>Maximum value above which a parameter loses functionality </td></tr>
<tr>
<td>min</td><td><em>&lt;Parameter type&gt;</em></td><td>Numeric parameters</td><td>Minimum value below which a parameter loses functionality </td></tr>
<tr>
<td>softmax</td><td><em>&lt;Parameter type&gt;</em></td><td>Numeric parameters</td><td>Recommended maximum value to present in user interfaces </td></tr>
<tr>
<td>softmin</td><td><em>&lt;Parameter type&gt;</em></td><td>Numeric parameters</td><td>Recommended minimum value to present in user interfaces </td></tr>
<tr>
<td>_synonym</td><td><em>STRING</em></td><td>Node entry / Parameters</td><td>Provides alternative name to node entries or parameters </td></tr>
<tr>
<td>_triggers_reinitialize</td><td><em>BOOLEAN</em></td><td>Parameters</td><td>Set on shape node parameters that will trigger a node deinit &amp; reinitialization when modified </td></tr>
<tr>
<td>_triggers_reload</td><td><em>BOOLEAN</em></td><td>Parameters</td><td>(Deprecated) Synonym for _triggers_reinitialize </td></tr>
<tr>
<td>help</td><td><em>STRING</em></td><td>Node entry / Parameters</td><td>Descriptive text used to help indicate the design and purpose of a node or one of its parameters </td></tr>
<tr>
<td>ui.groups</td><td><em>STRING</em> </td><td>Node entry </td><td>String describing the recommended parameter grouping for UIs. Formatting for a group with three params and another group with two params would be: "Group1:param1 param2 param3,Group2:param4 param5" </td></tr>
<tr>
<td>ui.hide</td><td><em>BOOLEAN</em></td><td>Parameters</td><td>Set on node parameters that should be hidden in user interfaces </td></tr>
<tr>
<td>ui.name</td><td><em>STRING</em></td><td>Node entry / Parameters</td><td><p class="starttd">Set the nice name of this node or parameter for how it will appear in menus and property editors</p>
<p class="endtd"></p>
</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaf169a8e30ab8e2be7c4710081561ffa5" name="gaf169a8e30ab8e2be7c4710081561ffa5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf169a8e30ab8e2be7c4710081561ffa5">&#9670;&nbsp;</a></span>AiMetadataStore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AI_API <a class="el" href="structAtMetadataStore.html">AtMetadataStore</a> * AiMetadataStore </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new metadata store. </p>
<dl class="section return"><dt>Returns</dt><dd>new metadata store object </dd></dl>

</div>
</div>
<a id="gaf036207821f0e831c922ec97761ca7ec" name="gaf036207821f0e831c922ec97761ca7ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf036207821f0e831c922ec97761ca7ec">&#9670;&nbsp;</a></span>AiMetadataStoreDestroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AI_API void AiMetadataStoreDestroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAtMetadataStore.html">AtMetadataStore</a> *&#160;</td>
          <td class="paramname"><em>mds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys a metadata store object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mds</td><td>metadata store object to be destroyed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga67b3e45768e297d750a4115d1e0ca13a" name="ga67b3e45768e297d750a4115d1e0ca13a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga67b3e45768e297d750a4115d1e0ca13a">&#9670;&nbsp;</a></span>AiMetadataStoreLoadFromASS()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AI_API bool AiMetadataStoreLoadFromASS </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAtMetadataStore.html">AtMetadataStore</a> *&#160;</td>
          <td class="paramname"><em>mds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load embedded metadata from an .ass file into a metadata store. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mds</td><td>metadata store object where embedded metadata will be loaded </td></tr>
    <tr><td class="paramname">file</td><td>filename of the .ass file with the embedded metadata to load </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga40a0d2260eade5ab2382f548602fa97f" name="ga40a0d2260eade5ab2382f548602fa97f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga40a0d2260eade5ab2382f548602fa97f">&#9670;&nbsp;</a></span>AiMetadataStoreGetIterator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AI_API AtMetaDataIterator * AiMetadataStoreGetIterator </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structAtMetadataStore.html">AtMetadataStore</a> *&#160;</td>
          <td class="paramname"><em>mds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new metadata iterator that traverses all global metadata. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mds</td><td>metadata store object to get an iterator for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an iterator over all global metadata in a metadata store </dd></dl>

</div>
</div>
<a id="gaf651876c1a3c45721bf678d6d59319fb" name="gaf651876c1a3c45721bf678d6d59319fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf651876c1a3c45721bf678d6d59319fb">&#9670;&nbsp;</a></span>AiMetadataStoreGetIteratorRecursive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AI_API AtMetaDataIterator * AiMetadataStoreGetIteratorRecursive </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structAtMetadataStore.html">AtMetadataStore</a> *&#160;</td>
          <td class="paramname"><em>mds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>recursive</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new metadata iterator pointing at the first matching entry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mds</td><td>metadata store object to get an iterator for </td></tr>
    <tr><td class="paramname">param</td><td>request metadata for a specific param (or global metadata if param is NULL) </td></tr>
    <tr><td class="paramname">recursive</td><td>if true and param is NULL, it will traverse both global metadata and param metadata for all params </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an iterator over all metadata in a metadata store </dd></dl>

</div>
</div>
<a id="ga032bb286a2cf4732e976c5ebd055aaa1" name="ga032bb286a2cf4732e976c5ebd055aaa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga032bb286a2cf4732e976c5ebd055aaa1">&#9670;&nbsp;</a></span>AiMetaDataLoadFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AI_API bool AiMetaDataLoadFile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load a metadata file. </p>
<p >Metadata items loaded from this file will be attached to existing node entries and their parameters, as especified by the <a href="https://docs.arnoldrenderer.com/x/kQNEB">.mtd file format</a></p>
<p >Usage: </p><div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* metadata_file = <span class="stringliteral">&quot;my_metadata_file.mtd&quot;</span>;</div>
<div class="line"><span class="keywordtype">bool</span> success = <a class="code hl_function" href="group__ai__metadata.html#ga032bb286a2cf4732e976c5ebd055aaa1">AiMetaDataLoadFile</a>(metadata_file)</div>
<div class="line"><span class="keywordflow">if</span> (!success)</div>
<div class="line">   printf(<span class="stringliteral">&quot;\nError loading metadata file %s&quot;</span>, metadata_file);</div>
<div class="ttc" id="agroup__ai__metadata_html_ga032bb286a2cf4732e976c5ebd055aaa1"><div class="ttname"><a href="group__ai__metadata.html#ga032bb286a2cf4732e976c5ebd055aaa1">AiMetaDataLoadFile</a></div><div class="ttdeci">AI_API bool AiMetaDataLoadFile(const char *filename)</div><div class="ttdoc">Load a metadata file.</div><div class="ttdef"><b>Definition:</b> ai_metadata.cpp:44</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>the full path of the metadata file to load </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true when the file could be read succesfully </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<br>
<!--We could define a thematic change here by using the tag <hr class="footer"/> -->
<div id="geninfo" style="text-align: center;">
 <font size=-2 color=#C9C9C9>&copy 2023 Autodesk, Inc. &middot All rights reserved &middot <a href="http://www.arnoldrenderer.com/"><font size=-2 color=#C9C9C9>www.arnoldrenderer.com</font></a></font>
 <div id="geninfo" style="text-align: right; margin-top: 10 px; margin-right: 10px;">
 </div>
</div>
</body>
</html>
